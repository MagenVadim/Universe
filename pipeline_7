 def skipRemainingStages = true
 
 pipeline {
    agent any
    parameters {
        choice(
            choices: ['all' , 'C', 'Python', 'Bash'],
            description: '',
            name: 'LANGUAGE')
    }
    
   stages {  
                 
        stage ('C') {
            when { expression { return params.LANGUAGE == 'C'} }
            steps { echo "1 steps - Hello, LANGUAGE, C" }
            when { expression { return params.LANGUAGE == 'Python'} }
            steps { echo "1 steps - Hello, LANGUAGE, Python" }
        }
        
        stage ('Python') {
            when { expression { return params.LANGUAGE == 'C'} }
            steps { echo "2 steps - Hello, LANGUAGE, C" }
            when { expression { return params.LANGUAGE == 'Python'} }
            steps { echo "2 steps - Hello, LANGUAGE, Python" }
        }
        
        stage ('Bash') {
            when { expression { return params.LANGUAGE == 'Bash'} }
            steps { echo "Hello, LANGUAGE, Bash"
            sh '''
            ${WORKSPACE}/scripts/23_water.sh $USER
            '''
 }}

stage ('ALL Language') {
            when { allOf {
                    expression { params.LANGUAGE == 'all' }
                    expression { params.LANGUAGE != 'C' }
                    expression { params.LANGUAGE != 'Python' }
                    expression { params.LANGUAGE != 'Bash' }
                } }
 steps { 
              echo "Hello, ALL LANGUAGE"
              sh '''
                ${WORKSPACE}/scripts/23_water.sh $USER
              '''
            }
        }



        }
    }
